<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>(Wheather)Weather</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"/>

  <script src="/js/components/weather_data.js"></script>

  <script src="/js/processWeatherData.js"></script>
  <script>


    document.addEventListener("DOMContentLoaded", () => {updateWeather("berlin");
      function updateWeather(cityName) {
        <|-- set items from weather data-->
        const cityData = processWeatherData(weatherData);

        const currentCity = cityName || "berlin";
        const currentDay = getCurrentDay();

        const currentCityData = cityData[currentCity][currentDay];

        const time = document.getElementById("time");
        const rightNowTemp = document.getElementById("rightNowTemp");
        const tempMax = document.getElementById("tempMax");
        const currentWindSpeed = document.getElementById("currentWindSpeed");
        const maxWindSpeed = document.getElementById("maxWindSpeed");
        const city = document.getElementById("cityName");

        time.innerHTML = currentDay;
        rightNowTemp.innerHTML = currentCityData.rightNowTemp + "째C";
        tempMax.innerHTML = currentCityData.maxTemp + "째C";
        currentWindSpeed.innerHTML = currentCityData.currentWindSpeed + " km/h";
        maxWindSpeed.innerHTML = currentCityData.maxWindSpeed + " km/h";
        city.innerHTML =
        currentCity.charAt(0).toUpperCase() + currentCity.slice(1);

        const weeklyWeatherContainer = document.getElementById("weeklyWeatherContainer");

        <!--clear existing content-->
        weeklyWeatherContainer.innerHTML = "";

        <!--create and append simple boxes for each item-->
        Object.keys(cityData[currentCity]).forEach((item) => {
          const dayWeatherBox = document.createElement("div");
          dayWeatherBox.className = "column is-2";
          const dayData = cityData[currentCity][item];
          dayWeatherBox.innerHTML = `
<section class="card has-background-black has-text-white">
<div class="card-header">
<p class="card-header-title is-size-3 is-flex is-justify-content-center has-text-white">
            ${dayData.time} </p>
</div>

<div class="card-image has-text-centered">
<figure class="image is-128x128 is-inline-block">
<img src="images/sun.png" alt="Sun Icon" />
</figure>
</div>

<div class="card-footer" style="border-top: none">
<p class="card-footer-item has-text-left" style="border: none">
<span class="is-size-5 has-text-white">${dayData.maxTemp}째C</span></p>
<p class="card-footer-item has-text-right" style="border: none">
<span class="is-size-5 has-text-white">${dayData.minTemp}째C</span></p>
</div>
</section>
          `;

          weeklyWeatherContainer.appendChild(dayWeatherBox);
        });
      }
    });
  </script>
</head>

<body>

  <!--navigation bar-->
  <nav class="navbar has-background-white">
    <div class="navbar-brand">
      <a class="navbar-item" href="#">
        <!-- You can add a logo or text here -->
      </a>
    </div>

    <div
    id="navbarMenu"
    class="navbar-menu is-flex is-justify-content-center"
    >
    <div class="navbar-item">

      <a
      class="navbar-item has-text-grey has-text-centered is-size-4"
      href="/dashboard/"
      >Dashboard</a
      >
    </div>
  </nav>

<!--column started-->
<!--card 1-->
<div class="container">
  <header class="columns">
    <!-- Card 1 -->
    <div class="column">
      <figure class="image is-100x100">
        <img src="images/logo.png" alt="Logo" />
      </figure>
    </div>

    <!-- Card 2 -->
    <div class="column">
      <h1
      class="title has-text-weight-bold is-size-1 has-text-centered"
      style="margin-top: 70px"
      id="cityName"
      ></h1>
      <p class="subtitle has-text-weight-bold is-size-3 has has-text-centered"
      id="time"></p>
    </div>

    <!-- Card 3 -->
    <div class="column">
      <div class="card has-background-black has-text-white has-text-centered"
      style="height: 90%; width: 100%">
      <div class="card-content">
        <h1 class="is-size-4 has-text-white has-text-centreted mb-6">
          Right Now
        </h1>

        <div class="is-flex is-justify-content-space-between">
          <p class="subtitle is-size-5 has-text-white" id="rightNowTemp"></p>
          <p class="subtitle is-size-5 has-text-white"id ="currentWindSpeed"></p>
        </div>
      </div>
    </div>
  </div>
</header>

<div class="columns">

  <!-- Card 4 -->
  <div class="column">
    <figure class="image has-text-centered image is-64x64"
    style="height: 80%; width: 100%">
    <img src="/images/sun.png" alt="Sun Icon">
  </figure>
</div>

<!-- Card 5 -->
<div class="column has-text-white has-text-centered">
  <div class="card has-background-black"
  style="height: 50%; width: 100%; margin-top: 150px">
  <div class="card-content">
    <h1 class="is-size-4 has-text-white mb-6">Max Temp</h1>
    <p class="is-size-4 has-text-white" id="tempMax"></p>
  </div>
</div>
</div>

<!-- Card 6 -->
<div class="column has-text-white has-text-centered">
  <div class="card has-background-black"
  style="height: 50%; width: 100%; margin-top: 150px">
  <div class="card-content">
    <h1 class="is-size-4 has-text-white mb-6">Wind Gust</h1>
    <p class="is-size-4 has-text-white has-text-centered"
    id="maxWindSpeed"></p>
  </div>
</div>
</div>
</div>

<footer
class="columns"
id="weeklyWeatherContainer"
style="overflow-x: scroll">
</footer>

</div>
</body>
</html>
